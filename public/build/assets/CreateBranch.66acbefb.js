import{f as g,C as V,h as A,g as b,D as w,r as s,o as B,c as F,w as a,d,a as e,u as l}from"./app.40bb12c6.js";const y=g("createNewBranch",{state:()=>({branchForm:{branch_location:"",branch_code:"",shipping_agent_code:"",branch_postcode:"",latitude:"",longitude:""}}),actions:{async createNewBranch(h){this.controller&&this.controller.abort(),this.controller=new AbortController;const t=this.controller.signal,u=V.exports.useLoading().show({color:"#5D2296",loader:"dots"});A.post("/api/create-branch",{branchForm:h},{signal:t}).then(({data:o})=>{setTimeout(()=>{u.hide()},100),o.error==""&&o.result!=""?b.fire({title:"Created sucessfully!",icon:"success"}).then(p=>{w.push({name:"branch"})}):b.fire({title:"Record not saved",text:"Error/Duplicate record exist in database.",icon:"warning"})}).catch(function(o){setTimeout(()=>{u.hide()},100),o.name==="AbortError"&&console.log("Request canceled",o.name)})}}}),x=d("br",null,null,-1),v=d("span",{class:"arrow_styles material-icons"},"arrow_back",-1),C=d("h1",{class:"text-center"}," Add Branch",-1),N=d("hr",null,null,-1),q={__name:"CreateBranch",setup(h){const t=y(),m=()=>{t.createNewBranch(t.branchForm)};return(u,o)=>{const p=s("router-link"),n=s("b-col"),i=s("b-row"),c=s("FormKit"),_=s("b-form-row"),f=s("b-container");return B(),F(f,{fluid:"",class:"screenLayoutsWidth2"},{default:a(()=>[d("div",null,[x,e(i,{style:{"margin-top":"55px"}},{default:a(()=>[e(n,{cols:"4"},{default:a(()=>[e(p,{to:"/branch",class:"btn btn-primary"},{default:a(()=>[v]),_:1})]),_:1}),e(n,{cols:"3",class:"headingAdjust"},{default:a(()=>[C]),_:1}),e(n,{cols:"5"})]),_:1})]),N,e(_,{class:"createUserForm"},{default:a(()=>[e(c,{type:"form",onSubmit:m},{default:a(()=>[e(i,null,{default:a(()=>[e(n,{cols:"2"}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"branch-name",label:"Branch Name",help:"Which town/city this branch is located ",validation:"required|length:0,35",placeholder:"Enter Branch Name",modelValue:l(t).branchForm.branch_location,"onUpdate:modelValue":o[0]||(o[0]=r=>l(t).branchForm.branch_location=r)},null,8,["modelValue"])]),_:1}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"branch-code",label:"Branch Code",help:"Branch code as per NAV",validation:"required|length:0,35",placeholder:"Enter Branch Code",modelValue:l(t).branchForm.branch_code,"onUpdate:modelValue":o[1]||(o[1]=r=>l(t).branchForm.branch_code=r)},null,8,["modelValue"])]),_:1}),e(n,{cols:"2"})]),_:1}),e(i,null,{default:a(()=>[e(n,{cols:"2"}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"shipping-agent-code",label:"Shipping Agent Code",help:"Shipping Agent code to be sent to NAV",validation:"required|length:0,35",placeholder:"Enter Shipping Agent Code",modelValue:l(t).branchForm.shipping_agent_code,"onUpdate:modelValue":o[2]||(o[2]=r=>l(t).branchForm.shipping_agent_code=r)},null,8,["modelValue"])]),_:1}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"branch-postcode",label:"Branch Post code",help:"Post code of this branch",validation:[["required"],["matches",/([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/]],placeholder:"Enter Branch Post code",modelValue:l(t).branchForm.branch_postcode,"onUpdate:modelValue":o[3]||(o[3]=r=>l(t).branchForm.branch_postcode=r)},null,8,["validation","modelValue"])]),_:1}),e(n,{cols:"2"})]),_:1}),e(i,null,{default:a(()=>[e(n,{cols:"2"}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"latitude",label:"latitude",help:"latitude for this branch",validation:"required|number",placeholder:"Enter latitude",modelValue:l(t).branchForm.latitude,"onUpdate:modelValue":o[4]||(o[4]=r=>l(t).branchForm.latitude=r)},null,8,["modelValue"])]),_:1}),e(n,{cols:"4"},{default:a(()=>[e(c,{type:"text",name:"longitude",label:"longitude",help:"longitude for this branch",validation:"required|number",placeholder:"Enter longitude",modelValue:l(t).branchForm.longitude,"onUpdate:modelValue":o[5]||(o[5]=r=>l(t).branchForm.longitude=r)},null,8,["modelValue"])]),_:1}),e(n,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{q as default};
