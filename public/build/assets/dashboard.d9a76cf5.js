import{f as O,s as P,j as K,r as b,o as p,c as C,w as o,a as e,u as k,e as g,k as B,t as c,F as R,b as x,V as A,_ as F,d as s,l as $,n as q,v as H,p as j,i as N,h as Y,g as J,q as W,x as I,y as L,z as M,A as Q,B as X,S as Z}from"./app.40bb12c6.js";import"./moment.9709ab41.js";import{S as ee,a as te}from"./ScrollToBottom.29655530.js";const oe=O("defineStore",{id:"PrintTable",state:()=>({tableIdToPrint:"",htmlMarkup:""}),actions:{printDayTable(d,t){let i={};for(const[a,h]of Object.entries(d))for(const[m,u]of Object.entries(h))for(let y in u)if(u[y].order_no!==void 0&&u[y].ship_to_post_code!==void 0&&u[y].ship_to_name!==void 0&&u[y].shipment_type!==void 0&&u[y].van_number!==void 0){const v=u[y].van_number;i[v]||(i[v]={van:v,name:u[y].van_name,orders:[],comments:u.comments}),i[v].orders.push({orderNo:u[y].order_no,name:u[y].ship_to_name,postCode:u[y].ship_to_post_code,Type:u[y].shipment_type})}let n=Object.values(i),l=window.open("","","height=950, width=1000");l.document.write("<html>"),l.document.write('<body> <h1 style="text-align:center;">DAY DELIVERY SHEET FOR ALL VANS</h1> <br>'),l.document.write('<div style="border-collapse: collapse; width:800px;border: 1px solid black">'),l.document.write('<table style="border-collapse: collapse; width:800px;border: 1px solid black">'),l.document.write('<thead><tr><th colspan="7" style="text-align:center;"><b>'+t+"</b></th></tr>"),l.document.write("<tr>"),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Order</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Name</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Post Code</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Delivery Type</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Progress</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Comments</th>'),l.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Sign</th>'),l.document.write("</tr></thead>"),l.document.write('<tbody">');for(let a=0;a<n.length;a++){l.document.write('<tr style="text-align:center;">'),l.document.write('<td colspan="7" style="text-align:center;height:30px;"><b>'+n[a].van+"</b>&nbsp;&nbsp;  "+n[a].comments+"</td>"),l.document.write("</tr>");for(let h=0;h<n[a].orders.length;h++)l.document.write('<tr style="text-align:center">'),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px;height:30px;">'+n[a].orders[h].orderNo+"</td>"),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+n[a].orders[h].name+"</td>"),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+n[a].orders[h].postCode+"</td>"),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+n[a].orders[h].Type+"</td>"),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),l.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),l.document.write("</tr>")}l.document.write("</tbody>"),l.document.write("</table>"),l.document.write("</div>"),l.document.write("</body></html>"),l.document.close(),l.print()}}}),le=["value"],se=x(" Search "),ae=x("Print"),ne={__name:"SearchData",props:{singleOrder:Object},setup(d){const t=P(),i=K(),n=()=>{A.setCookie("selected_branch",i.selectedBranch,{path:"/"}),A.setCookie("selected_date",i.selectedDate,{path:"/"}),i.selectedBranch=A.getCookie("selected_branch"),i.selectedDate=A.getCookie("selected_date"),t.SearchRequestedData(i.selectedBranch,i.selectedDate)},l=oe();function a(){l.printDayTable(t.printDayDeliverySheet,i.selectedDate)}return(h,m)=>{const u=b("FormKit"),y=b("b-col"),v=b("b-button"),r=b("b-row");return p(),C(r,{class:"searchForm",style:{"margin-left":"1px"}},{default:o(()=>[e(u,{type:"group"},{default:o(()=>[e(y,{cols:"3"},{default:o(()=>[e(u,{type:"select",label:"Select Branch",name:"SelectedBranch",modelValue:k(i).selectedBranch,"onUpdate:modelValue":m[0]||(m[0]=w=>k(i).selectedBranch=w),onChange:k(i).setCookiesForInputData},{default:o(()=>[(p(!0),g(R,null,B(k(i).branches,w=>(p(),g("option",{id:"searchDropdown",key:w.branch_id,value:w.branch_id},c(w.branch_location),9,le))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),e(y,{cols:"3"},{default:o(()=>[e(u,{type:"date",label:"select date",validation:"required",modelValue:k(i).selectedDate,"onUpdate:modelValue":m[1]||(m[1]=w=>k(i).selectedDate=w),onClick:k(i).setCookiesForInputData},null,8,["modelValue","onClick"])]),_:1}),e(y,{cols:"1",class:"searchBtn"},{default:o(()=>[e(u,{type:"button",onClick:n,style:{"background-color":"#0275ff","padding-right":"25px","margin-left":"10px"}},{default:o(()=>[se]),_:1})]),_:1}),e(y,{cols:"3"}),e(y,{cols:"1"},{default:o(()=>[e(v,{style:{"background-color":"#0275ff"},onClick:a},{default:o(()=>[ae]),_:1})]),_:1})]),_:1})]),_:1})}}};const U=d=>(j("data-v-08ebc16d"),d=d(),N(),d),re={class:"outerdivWeightAndValue"},ce=U(()=>s("div",{id:"weightAndValue",class:"button-style",style:{"background-color":"#5D2296",border:"none"}},"Total Weight and Value In a day",-1)),de=U(()=>s("br",null,null,-1)),ie={class:"totalWandV"},_e={class:"inlineLayout"},ue={class:"tablesRow",style:{"text-align":"center"}},pe={class:"tableHeading"},be=U(()=>s("tr",null,[s("th",{scope:"col"},"Total Value"),s("th",{scope:"col"},"Total Weight")],-1)),he={__name:"DayWeightAndValue",props:{weightAndValue:Object},setup(d){let t=0;const i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return(n,l)=>{const a=b("b-col"),h=b("b-row");return p(),g("div",re,[ce,de,s("div",ie,[e(h,{class:"display-table-inline"},{default:o(()=>[(p(!0),g(R,null,B(d.weightAndValue,(m,u)=>(p(),C(a,{cols:"1",key:u},{default:o(()=>[s("div",_e,[s("table",ue,[s("thead",null,[s("div",pe,c(i[k(t)])+" - "+c(u),1),$(s("span",null,c(q(t)?t.value++:t++),513),[[H,!1]]),be]),s("tbody",null,[s("tr",null,[s("td",null,"Post,coll: \xA3"+c(Math.floor(m.valuePostCollection*100)/100),1),s("td",null,"Post,coll: "+c(Math.floor(m.weightPostCollection*100)/100)+" Kg",1)]),s("tr",null,[s("td",null,"Courier: \xA3"+c(Math.floor(m.valueCourier*100)/100),1),s("td",null,"Courier: "+c(Math.floor(m.weightCourier*100)/100)+" Kg",1)]),s("tr",null,[s("td",null,"Total: \xA3"+c(Math.floor(m.value*100)/100),1),s("td",null,"Total: "+c(Math.floor(m.weight*100)/100)+" Kg",1)])])])])]),_:2},1024))),128)),$(s("span",null,c(q(t)?t.value=0:t=0),513),[[H,!1]])]),_:1})])])}}},ye=F(he,[["__scopeId","data-v-08ebc16d"]]),z=O("table",{state:()=>({isBookableCheck:"",orders:"",updatedComments:"",bookableValue:"",date:"",vehicleNo:"",isCheck:Boolean,responseStatus:Object,bookableBackgroundColor:Boolean}),actions:{getComments(d,t,i){this.controller&&this.controller.abort(),this.controller=new AbortController;const n=this.controller.signal;console.log(d),console.log(i),Y.post("/api/updatecomments",{updatedComments:d,selectedDate:t,selectedVehicleNo:i},{signal:n}).then(l=>{console.log(l.data)}).catch(function(l){l.name==="AbortError"&&console.log("Request canceled",l.name)})},updateBookableValue(d,t){let i=d+t;document.getElementById(i).getAttribute("aria-label")=="Bookable"?this.isBookableCheck=1:this.isBookableCheck=0,this.controller&&this.controller.abort(),this.controller=new AbortController;const a=this.controller.signal;Y.post("/api/updatebookable",{bookableValue:this.isBookableCheck,selectedDate:d,vehicleNo:t},{signal:a}).then(h=>{h.data.error_msg==""&&h.data.updateStatus==1?window.location.reload():J.fire({title:"Bookable status not saved",text:"Error in Database",icon:"warning"})}).catch(function(h){h.name==="AbortError"&&console.log("Request canceled",h.name)})}}}),me=O({id:"PrintTable",state:()=>({tableIdToPrint:"",htmlMarkup:""}),actions:{printTable(d,t){console.log(d.comments),console.log(d),console.log(t);let i=[];for(let l in d)d[l].order_no!=null&&d[l].ship_to_post_code!=null&&d[l].ship_to_name!=null&&d[l].shipment_type!=null&&i.push({orderNo:d[l].order_no,name:d[l].ship_to_name,postCode:d[l].ship_to_post_code,Type:d[l].shipment_type,van:d[l].van_number});let n=window.open("","","height=950, width=1000");n.document.write("<html>"),n.document.write("<body > <h1>DAILY DELIVERY SHEET</h1> <br>"),n.document.write('<textarea style="resize: none;" rows="4" cols="106">'+d.comments+"</textarea>"),n.document.write("<br/><br/>"),n.document.write("Date : "+d.date+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Van : "+i[0].van),n.document.write("<br/><br/>"),n.document.write("Vehicle Payload : "+t+"&nbsp;KG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Booked weight : "+d.booked_weight+"&nbsp;KG"),n.document.write("<br/><br/>"),n.document.write('<div style="border-collapse: collapse; width:800px;border: 1px solid black">'),n.document.write('<table style="border-collapse: collapse; width:800px;border: 1px solid black">'),n.document.write('<thead "><tr>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Invoice</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Name</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Post Code</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Comments</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Picker</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Lines</th>'),n.document.write('<th style="border-collapse: collapse; border: 1px solid black; width:100px; scope="col">Checked</th>'),n.document.write("</tr></thead>"),n.document.write('<tbody">');for(let l=0;l<i.length;l++)n.document.write('<tr style="text-align:center">'),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px;height:100px;">'+i[l].orderNo+"</td>"),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+i[l].name+"</td>"),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+i[l].postCode+"</td>"),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px">'+i[l].Type+"</td>"),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),n.document.write('<td style="border-collapse: collapse; border: 1px solid black; width:100px"> </td>'),n.document.write("</tr>");n.document.write("</tbody>"),n.document.write("</table>"),n.document.write("<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>"),n.document.write('<div style="border-collapse: collapse; width:800px;border: 1px solid black">'),n.document.write("<br/><br/><br/>"),n.document.write("&nbsp;&nbsp;&nbsp;&nbsp;Signed..........................................................................."),n.document.write("<br/><br/><br/>"),n.document.write("&nbsp;&nbsp;&nbsp;&nbsp;Date..........................................................................."),n.document.write("<br/><br/><br/>"),n.document.write("&nbsp;&nbsp;&nbsp;&nbsp;Time..........................................................................."),n.document.write("<br/><br/><br/>"),n.document.write("</div>"),n.document.write("</div>"),n.document.write("</body></html>"),n.document.close(),n.print()}}});const E=d=>(j("data-v-5774e207"),d=d(),N(),d),ge={class:"belowContentWrapper"},fe=E(()=>s("br",null,null,-1)),we=E(()=>s("br",null,null,-1)),ke={style:{display:"flex"}},ve={key:0,class:"bookableClass"},De={key:1,class:"bookableClass"},Ce=x("Print"),xe=E(()=>s("br",null,null,-1)),Ae=E(()=>s("strong",null,[s("span",{style:{color:"red","padding-left":"18%"}},"Wrong API calculation in Database")],-1)),We=E(()=>s("strong",null," \xA0 ",-1)),Ve={__name:"tableDescriptionData",props:{order:Object,vehicleNo:String,targetAmount:String,deliveryCapacity:Number},setup(d){const t=d,i=z(),n=me(),l=()=>{n.printTable(t.order,t.deliveryCapacity)},a=()=>{i.updateBookableValue(t.order.date,t.vehicleNo)};return(h,m)=>{const u=b("b-col"),y=b("b-row"),v=b("b-button");return p(),g("div",ge,[e(y,{class:"rowsize"},{default:o(()=>[e(u,{cols:"6",style:W({color:[t.order.value_booked<=.8*t.targetAmount?"#ff0000":t.order.value_booked>.8*t.targetAmount&&t.order.value_booked<t.targetAmount?"#FF8533":t.order.value_booked>t.targetAmount?"#009933":"#a89595"]})},{default:o(()=>[x(" Value Booked:\xA3 "+c(t.order.value_booked),1)]),_:1},8,["style"]),e(u,{cols:"6",style:W({color:[t.order.booked_weight<=.8*t.deliveryCapacity?"":t.order.booked_weight>.8*t.deliveryCapacity&&t.order.booked_weight<t.deliveryCapacity?"#FF8533":t.order.booked_weight>t.deliveryCapacity?"#ff0000":""]})},{default:o(()=>[x(" Booked Weight:"+c(t.order.booked_weight)+" Kg ",1)]),_:1},8,["style"])]),_:1}),fe,e(y,{class:"rowsize"},{default:o(()=>[e(u,{cols:"6",style:W({color:[t.order.value_booked<=.8*t.targetAmount?"#ff0000":t.order.value_booked>.8*t.targetAmount&&t.order.value_booked<t.targetAmount?"#FF8533":t.order.value_booked>t.targetAmount?"#009933":"#a89595"]})},{default:o(()=>[x(" To Book:\xA3 "+c(t.order.to_book),1)]),_:1},8,["style"]),e(u,{cols:"6",style:W({color:[t.order.booked_weight>t.deliveryCapacity?"#ff0000":t.order.booked_weight>.8*t.deliveryCapacity&&t.order.booked_weight<t.deliveryCapacity?"#FF8533":t.order.booked_weight<=.8*t.deliveryCapacity?"#000000":""]})},{default:o(()=>[x(" Remaining Weight:"+c(t.order.remaining_weight)+" Kg ",1)]),_:1},8,["style"])]),_:1}),we,e(y,{class:"rowsize"},{default:o(()=>[e(u,{cols:"6"},{default:o(()=>[s("div",ke,[e(v,{class:I(["bookableClass",`${t.order.bookable_status==1?"notavailableBookable":"availableBookable"}`]),id:t.order.date+t.vehicleNo,"aria-label":`${t.order.bookable_status==1?"Not Bookable":"Bookable"}`,modelValue:t.order.bookable_status,"onUpdate:modelValue":m[0]||(m[0]=r=>t.order.bookable_status=r),type:"button",name:"bookable",onClick:a},{default:o(()=>[t.order.bookable_status==1?(p(),g("span",ve," Not Bookable ")):(p(),g("span",De," Bookable "))]),_:1},8,["id","aria-label","modelValue","class"])])]),_:1}),e(u,{cols:"6"},{default:o(()=>[e(v,{variant:"outline-primary",onClick:l},{default:o(()=>[Ce]),_:1})]),_:1})]),_:1}),xe,t.order.travelTime==0&&t.order.journeyDistance==0&&t.order.value_booked!=0&&t.order.booked_weight!=0?(p(),C(y,{key:0,class:"rowsize"},{default:o(()=>[e(u,{cols:"12"},{default:o(()=>[Ae]),_:1})]),_:1})):t.order.travelTime==0&&t.order.journeyDistance==0&&t.order.value_booked==0&&t.order.booked_weight==0?(p(),C(y,{key:1,class:"rowsize"},{default:o(()=>[e(u,{cols:"12"},{default:o(()=>[We]),_:1})]),_:1})):(p(),C(y,{key:2,class:"rowsize"},{default:o(()=>[e(u,{cols:"6"},{default:o(()=>[s("strong",null," Travel Time : "+c(t.order.travelTime),1)]),_:1}),e(u,{cols:"6"},{default:o(()=>[s("strong",null," Journey Distance: "+c(t.order.journeyDistance)+" miles ",1)]),_:1})]),_:1}))])}}},V=F(Ve,[["__scopeId","data-v-5774e207"]]);const Se={class:"comments-row"},Te={__name:"tableDescriptionComments",props:{order:Object,vehicleNo:String},setup(d){const t=d,i=z();return(n,l)=>{const a=b("FormKit"),h=b("b-col"),m=b("b-row");return p(),g("div",Se,[e(m,null,{default:o(()=>[e(h,{cols:"12"},{default:o(()=>[e(a,{type:"textarea",label:"Comments",rows:"1",modelValue:t.order.comments,"onUpdate:modelValue":l[0]||(l[0]=u=>t.order.comments=u),onInput:l[1]||(l[1]=u=>k(i).getComments(t.order.comments,t.order.date,t.vehicleNo)),placeholder:"type here"},null,8,["modelValue"])]),_:1})]),_:1})])}}},S=F(Te,[["__scopeId","data-v-84b9022e"]]);const $e={class:"AllRunsWtValTotal"},Pe={__name:"tableTotalRunDetails",props:{AllRunsWtvalPerDay:Object},setup(d){const t=d;return z(),(i,n)=>{const l=b("b-col"),a=b("b-row");return p(),g("div",$e,[e(a,{style:{"background-color":"#B0C4DE",padding:"5px","border-radius":"2px"}},{default:o(()=>[e(l,{cols:"6"},{default:o(()=>[s("strong",null,"Total Value: \xA3 "+c(t.AllRunsWtvalPerDay.totalDayValue),1)]),_:1}),e(l,{cols:"6"},{default:o(()=>[s("strong",null,"Total Wt.: "+c(t.AllRunsWtvalPerDay.totalDayWeight)+"Kg",1)]),_:1})]),_:1}),e(a,{style:{"background-color":"#B0C4DE",padding:"2px","border-radius":"2px"}},{default:o(()=>[e(l,{cols:"6"},{default:o(()=>[s("strong",null,"Total Time: "+c(t.AllRunsWtvalPerDay.totalTravelTime),1)]),_:1}),e(l,{cols:"6"},{default:o(()=>[s("strong",null,"Total Mileage: "+c(t.AllRunsWtvalPerDay.totalJourneyDistance)+" mi",1)]),_:1})]),_:1})])}}},T=F(Pe,[["__scopeId","data-v-b77c7483"]]),Be={class:"inlineLayout"},Re={class:"tableHeading"},Fe={class:"table tablesRow table-bordered"},Ee=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"Order no."),s("th",{scope:"col"},"Name"),s("th",{scope:"col"},"Postcode"),s("th",{scope:"col"},"Area"),s("th",{scope:"col"},"Items"),s("th",{scope:"col"},"Wt."),s("th",{scope:"col"},"\xA3"),s("th",{scope:"col"},"Type")])],-1),Me={key:0},Ie=s("br",null,null,-1),Oe=s("strong",null,"Shipped",-1),Ke=[Ie,Oe],je={key:1},Ne=s("br",null,null,-1),Le=[Ne],Ue={key:2},ze=s("br",null,null,-1),qe=s("strong",null,"Pt Shipped",-1),He=[ze,qe],Ye={key:3},Ge=s("br",null,null,-1),Je=[Ge],Qe={key:0},Xe=s("strong",null,"Paid",-1),Ze=[Xe],et={key:1},tt=s("br",null,null,-1),ot=[tt],lt={key:2},st=s("strong",null,"Paid",-1),at=[st],nt={key:3},rt=s("br",null,null,-1),ct=[rt],f={__name:"table",props:{order:Object,weekDay:String,vehicleNo:String},setup(d){const t=d;return(i,n)=>(p(),g("div",Be,[s("div",Re,c(t.weekDay)+"-"+c(t.order.date),1),s("table",Fe,[Ee,(p(!0),g(R,null,B(t.order,(l,a)=>(p(),g("tbody",{key:l},[a!="value_booked"&&a!="to_book"&&a!="booked_weight"&&a!="remaining_weight"&&a!="comments"&&a!="date"&&a!="bookable_status"&&a!="journeyDistance"&&a!="travelTime"&&a!="display_order_position"&&a!="orginalSequence"?(p(),g("tr",{key:0,style:W([{background:l.balance_amount>0&&l.delivery_confirmed==1?"#FFC671":l.balance_amount<=0&&l.delivery_confirmed==1?"#D7F6C8":l.delivery_confirmed==0&&l.balance_amount>=0&&l.dispatch_requested_date==l.promised_delivery_date?"#ffb3ff":"#F9F3E0"}])},[s("td",null,[x(c(l.order_no)+" ",1),l.ship_status=="Shipped"?(p(),g("span",Me,Ke)):(p(),g("span",je,Le)),l.ship_status=="Part Shipped"?(p(),g("span",Ue,He)):(p(),g("span",Ye,Je))]),s("td",null,c(l.ship_to_name),1),s("td",null,c(l.ship_to_post_code),1),s("td",null,c(l.ship_to_city),1),s("td",null,c(l.type_of_supply_code),1),s("td",null,c(l.order_weight)+" Kg",1),s("td",null,[x("\xA3"+c(l.order_amount)+" ",1),l.balance_amount<=0&&l.delivery_confirmed==0?(p(),g("span",Qe,Ze)):(p(),g("span",et,ot)),l.balance_amount<=0&&l.delivery_confirmed==1?(p(),g("span",lt,at)):(p(),g("span",nt,ct))]),s("td",null,c(l.shipment_type),1)],4)):L("",!0)]))),128))])]))}};const G=d=>(j("data-v-a22f307a"),d=d(),N(),d),dt={class:"accordion accordiansDisplay",role:"tablist"},it={class:"vanDetails",style:W([{color:"#800000"}])},_t={class:"vanDetails2",style:W([{color:"#800000"}])},ut={key:0},pt={id:"accordion"},bt={class:"card"},ht=["id","data-bs-target","aria-bs-controls","onClick"],yt={class:"vanDetails"},mt={class:"vanDetails2"},gt=["id","aria-bs-labelledby"],ft={class:"card-body"},wt=G(()=>s("br",null,null,-1)),kt=G(()=>s("br",null,null,-1)),vt={__name:"VehicalsAccordian",setup(d){const t=P();return(i,n)=>{const l=b("b-button"),a=b("b-col"),h=b("b-row"),m=b("b-collapse"),u=b("b-container"),y=b("b-card"),v=M("b-toggle");return p(),g("div",dt,[(p(!0),g(R,null,B(k(t).selectedData,(r,w)=>(p(),C(y,{"no-body":"",class:"mb-1",key:w+"1"},{default:o(()=>[$((p(),C(l,{id:w,class:"button-style",style:W([{background:r.vehicle_type=="3.5T Flat Bed"?"#E1E8FB":r.vehicle_type=="3.5T Box Van"?"#F5E7F0":r.vehicle_type=="3.5T Panel Van"?"#ECECEC":r.vehicle_type=="7.5T Flat Bed"?"#FFFFCC":r.vehicle_type=="18T Flat Bed"?"#F9DAA8":r.vehicle_type=="18T Curtain Side"?"#ECECEC":""},{border:i.none}]),onClick:D=>k(t).ParentCollapseHideOrShow(w)},{default:o(()=>[s("strong",it,c(w+" | ")+" "+c(r.registration_number+" | ")+" "+c(r.delivery_capacity+" Kg | ")+" "+c(r.vehicle_type),1),s("strong",_t,c(w+" | ")+" "+c(r.registration_number+" | ")+" "+c(r.delivery_capacity+" Kg | ")+" "+c(r.vehicle_type),1)]),_:2},1032,["id","style","onClick"])),[[v,w+"1"]]),e(u,{fluid:""},{default:o(()=>[e(m,{id:w+"1",class:I(r.parent_collapse_status===1?"show":""),accordion:"dd",role:"tabpanel"},{default:o(()=>[(p(!0),g(R,null,B(r,(D,_)=>(p(),g("span",{key:_},[_!=w&&_!="delivery_capacity"&&_!="target_amount"&&_!="parent_collapse_status"&&_!="vehicle_type"&&_!="registration_number"&&_!="totalDayWtAndValue"?(p(),g("span",ut,[s("div",pt,[s("div",bt,[s("button",{style:W([{background:r.vehicle_type=="3.5T Flat Bed"?"#E1E8FB":r.vehicle_type=="3.5T Box Van"?"#F5E7F0":r.vehicle_type=="3.5T Panel Van"?"#ECECEC":r.vehicle_type=="7.5T Flat Bed"?"#FFFFCC":r.vehicle_type=="18T Flat Bed"?"#F9DAA8":r.vehicle_type=="18T Curtain Side"?"#ECECEC":""},{"border-style":"ridge"},{height:"35px"},{color:"#5D2296"},{"border-radius":"20px"}]),id:_.includes("RUN")?"#"+_:"#"+_+"RUN",class:"VehicleHeading","data-bs-toggle":"collapse","data-bs-target":_.includes("RUN")?"#"+_:"#"+_+"RUN","aria-bs-expanded":"false","aria-bs-controls":_,onClick:zt=>k(t).hideShowVanRun(_)},[s("strong",yt,c(_)+" - Value: \xA3 "+c(D.totalValue)+" | Weight:"+c(D.totalWeight+" kg"),1),s("strong",mt,c(_)+" - Value: \xA3 "+c(D.totalValue)+" | Weight:"+c(D.totalWeight+" kg"),1)],12,ht),s("div",{id:_.includes("RUN")?_:_+"RUN",class:I(["collapse",D.hideOrShowVehicle===1?"show":""]),"aria-bs-labelledby":_,"data-bs-parent":"#accordion"},[s("div",ft,[e(h,{class:"display-table-inline"},{default:o(()=>[e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Monday,"week-day":"Monday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Tuesday,"week-day":"Tuesday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Wednesday,"week-day":"Wednesday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Thursday,"week-day":"Thursday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Friday,"week-day":"Friday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Saturday,"week-day":"Saturday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"1"},{default:o(()=>[e(f,{order:D.Sunday,"week-day":"Sunday","vehicle-no":w},null,8,["order","vehicle-no"])]),_:2},1024),e(a,{cols:"5"})]),_:2},1024),wt,e(h,{id:"belowLayoutofTables"},{default:o(()=>[e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Monday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Tuesday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Wednesday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Thursday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Friday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Saturday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"1",class:"description"},{default:o(()=>[e(V,{order:r[_].Sunday,"vehicle-no":_,targetAmount:r.target_amount,deliveryCapacity:r.delivery_capacity},null,8,["order","vehicle-no","targetAmount","deliveryCapacity"])]),_:2},1024),e(a,{cols:"5"})]),_:2},1024),kt,e(h,{id:"belowLayoutofTableComments"},{default:o(()=>[e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Monday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Monday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Tuesday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Tuesday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Wednesday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Wednesday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Thursday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Thursday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Friday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Friday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Saturday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Saturday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(S,{order:r[_].Saturday,"vehicle-no":_,AllRunsWtvalPerDay:r.totalDayWtAndValue.Saturday},null,8,["order","vehicle-no","AllRunsWtvalPerDay"])]),_:2},1024)]),_:2},1024)])],10,gt)])])])):L("",!0)]))),128)),e(h,{id:"belowLayoutofTableComments"},{default:o(()=>[e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Monday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Tuesday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Wednesday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Thursday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Friday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Saturday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024),e(a,{cols:"1",class:"tableComments"},{default:o(()=>[e(T,{AllRunsWtvalPerDay:r.totalDayWtAndValue.Saturday},null,8,["AllRunsWtvalPerDay"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["id","class"])]),_:2},1024)]),_:2},1024))),128))])}}},Dt=F(vt,[["__scopeId","data-v-a22f307a"]]),Ct={class:"accordion",role:"tablist"},xt={class:"vanDetails"},At={class:"vanDetails2"},Wt={__name:"Collections",props:{collections:Object},setup(d){const t=d;return P(),(i,n)=>{const l=b("b-button"),a=b("b-col"),h=b("b-row"),m=b("b-card-body"),u=b("b-collapse"),y=b("b-container"),v=b("b-card"),r=M("b-toggle");return p(),g("div",Ct,[e(v,{"no-body":"",class:"mb-1"},{default:o(()=>[$((p(),C(l,{class:"button-style",block:"",style:{"background-color":"#5D2296",border:"none"}},{default:o(()=>[s("strong",xt," Collections - Value: \xA3 "+c(Math.floor(t.collections.collectionValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.collections.collectionBookedWeight*100)/100)+" Kg ",1),s("strong",At," Collections - Value: \xA3 "+c(Math.floor(t.collections.collectionValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.collections.collectionBookedWeight*100)/100)+" Kg ",1)]),_:1})),[[r,void 0,void 0,{collectionAccordian:!0}]]),e(y,{fluid:"",style:{"margin-left":"-14px"}},{default:o(()=>[e(u,{id:"collectionAccordian",accordion:"collectionAccordian",role:"tabpanel"},{default:o(()=>[e(m,{class:"Tables-card-body"},{default:o(()=>[e(h,{class:"display-table-inline"},{default:o(()=>[e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Monday,"week-day":"Monday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Tuesday,"week-day":"Tuesday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Wednesday,"week-day":"Wednesday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Thursday,"week-day":"Thursday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Friday,"week-day":"Friday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Saturday,"week-day":"Saturday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.collections.Sunday,"week-day":"Sunday"},null,8,["order"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Vt={class:"accordion",role:"tablist"},St={class:"vanDetails"},Tt={class:"vanDetails2"},$t={__name:"Post",props:{post:Object},setup(d){const t=d;return P(),(i,n)=>{const l=b("b-button"),a=b("b-col"),h=b("b-row"),m=b("b-card-body"),u=b("b-collapse"),y=b("b-container"),v=b("b-card"),r=M("b-toggle");return p(),g("div",Vt,[e(v,{"no-body":"",class:"mb-1"},{default:o(()=>[$((p(),C(l,{class:"button-style",block:"",style:{"background-color":"#5D2296",border:"none"}},{default:o(()=>[s("strong",St," Post - Value: \xA3 "+c(Math.floor(t.post.postValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.post.postBookedWeight*100)/100)+" Kg ",1),s("strong",Tt," Post - Value: \xA3 "+c(Math.floor(t.post.postValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.post.postBookedWeight*100)/100)+" Kg ",1)]),_:1})),[[r,void 0,void 0,{postAccordian:!0}]]),e(y,{fluid:"",style:{"margin-left":"-14px"}},{default:o(()=>[e(u,{id:"postAccordian",accordion:"postAccordian",role:"tabpanel"},{default:o(()=>[e(m,{class:"Tables-card-body"},{default:o(()=>[e(h,{class:"display-table-inline"},{default:o(()=>[e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Monday,"week-day":"Monday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Tuesday,"week-day":"Tuesday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Wednesday,"week-day":"Wednesday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Thursday,"week-day":"Thursday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Friday,"week-day":"Friday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Saturday,"week-day":"Saturday"},null,8,["order"])]),_:1}),e(a,{cols:"1"},{default:o(()=>[e(f,{order:t.post.Sunday,"week-day":"Sunday"},null,8,["order"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Pt={class:"accordion",role:"tablist"},Bt={class:"vanDetails"},Rt={class:"vanDetails2"},Ft={__name:"Courier",props:{courier:Object},setup(d){const t=d,i=K(),n=P();return i.selectedBranch=A.getCookie("selected_branch"),(l,a)=>{const h=b("b-button"),m=b("b-col"),u=b("b-row"),y=b("b-card-body"),v=b("b-collapse"),r=b("b-container"),w=b("b-card"),D=M("b-toggle");return p(),g("div",Pt,[e(w,{"no-body":"",class:"mb-1"},{default:o(()=>[$((p(),C(h,{class:"button-style",block:"",style:{"background-color":"#5D2296",border:"none"}},{default:o(()=>[s("strong",Bt," Courier - Value: \xA3 "+c(Math.floor(t.courier.courierValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.courier.courierBookedWeight*100)/100)+" Kg ",1),s("strong",Rt," Courier - Value: \xA3 "+c(Math.floor(t.courier.courierValueBooked*100)/100)+" | Weight: "+c(Math.floor(t.courier.courierBookedWeight*100)/100)+" Kg ",1)]),_:1})),[[D,void 0,void 0,{courierAccordian:!0}]]),e(r,{fluid:"",style:{"margin-left":"-14px"}},{default:o(()=>[e(v,{id:"courierAccordian",visible:k(n).courierGosbertonStatus==!0,accordion:"courierAccordian",role:"tabpanel"},{default:o(()=>[e(y,{class:"Tables-card-body"},{default:o(()=>[e(u,{class:"display-table-inline"},{default:o(()=>[e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Monday,"week-day":"Monday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Tuesday,"week-day":"Tuesday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Wednesday,"week-day":"Wednesday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Thursday,"week-day":"Thursday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Friday,"week-day":"Friday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Saturday,"week-day":"Saturday"},null,8,["order"])]),_:1}),e(m,{cols:"1"},{default:o(()=>[e(f,{order:t.courier.Sunday,"week-day":"Sunday"},null,8,["order"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])]),_:1})]),_:1})])}}},Et={__name:"ScrollToLastPosition",props:{scrl:Number},setup(d){const t=d;function i(){let n=window.scrollY;localStorage.setItem("scroll",n)}return Q(()=>{let n=localStorage.getItem("scroll");window.scrollTo(0,n),window.addEventListener("scroll",i)}),X(()=>{window.removeEventListener("scroll",i)}),(n,l)=>c(t.scrl)}},Mt=s("br",null,null,-1),It=s("br",null,null,-1),Ot=s("br",null,null,-1),Kt=s("br",null,null,-1),jt=s("br",null,null,-1),Nt=s("br",null,null,-1),Lt=s("br",null,null,-1),Ut=s("br",null,null,-1),Gt={__name:"dashboard",setup(d){const t=K(),i=Z(),n=P();new Date().toISOString().slice(0,10),t.selectedBranch=A.getCookie("selected_branch"),t.selectedDate=A.getCookie("selected_date"),i.firstResponseCheck==!0?(t.selectedBranch=A.getCookie("selected_branch"),t.selectedDate=A.getCookie("selected_date"),n.SearchRequestedData(t.selectedBranch,t.selectedDate)):(i.firstResponseCheck=!0,n.firstRes=!0);let l=()=>{};return(a,h)=>(p(),g("div",null,[e(ee),e(Et,{onScroll:k(l),scrl:a.scroll},null,8,["onScroll","scrl"]),e(ne),Mt,e(Wt,{collections:k(n).getCollections},null,8,["collections"]),e($t,{post:k(n).getPost},null,8,["post"]),e(Ft,{courier:k(n).getCourier},null,8,["courier"]),k(t).selectedBranch!=9?(p(),C(Dt,{key:0})):L("",!0),e(ye,{weightAndValue:k(n).getWeightAndValueInAday},null,8,["weightAndValue"]),It,Ot,Kt,e(te),jt,Nt,Lt,Ut]))}};export{Gt as default};
